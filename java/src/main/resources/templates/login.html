<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/layout :: head(paginaTitulo='Login')">
</head>
<body class="bg-light">
    <div class="container-fluid vh-100 d-flex justify-content-center align-items-center" 
         style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), 
                 url('https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');
                 background-size: cover; background-position: center; background-attachment: fixed;">
        
        <div class="card shadow-lg p-4" style="width: 100%; max-width: 400px; background: rgba(255, 255, 255, 0.95);">
            <div class="text-center mb-2">
                <h2 class="h3 mb-3 fw-normal">Acesso ao AvaliaFast</h2>
            </div>
            <div th:if="${error != null}" class="alert alert-danger" role="alert">
                <strong>Erro:</strong> <span th:text="${error}"></span>
            </div>

            <form th:action="@{/login}" method="post" class="needs-validation" novalidate>
                <div class="mb-3">
                    <label for="username" class="form-label">Login</label>
                    <input type="text" class="form-control form-control-lg" id="username" name="username" required>
                    <div class="invalid-feedback">
                        Por favor, insira seu login.
                    </div>
                </div>
                <div class="mb-4">
                    <label for="password" class="form-label">Senha</label>
                    <input type="password" class="form-control form-control-lg" id="password" name="password" required>
                    <div class="invalid-feedback">
                        Por favor, insira sua senha.
                    </div>
                </div>
                <button type="submit" class="w-100 btn btn-primary btn-lg mb-3">Entrar</button>
            </form>
        </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Validação do formulário
        (function() {
            'use strict';
            var forms = document.querySelectorAll('.needs-validation');
            Array.prototype.slice.call(forms).forEach(function(form) {
                form.addEventListener('submit', function(event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                }, false);
            });
        })();
        
        // Remove mensagens de erro após 5 segundos
        document.addEventListener('DOMContentLoaded', function() {
            var alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                setTimeout(function() {
                    var bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                }, 5000);
            });
        });
    </script>
</body>
</html>